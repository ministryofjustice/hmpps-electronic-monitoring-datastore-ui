{% extends "../../partials/layout.njk" %}

{% set heading = "All event history" %}
{% set pageTitle = heading %}

{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "../../components/emsServiceInformation.njk" import emsServiceInformation %}
{% from "../../components/emsDateFilter.njk" import emsDateFilter %}
{% from "../../components/emsEventTimeline.njk" import emsEventTimeline %}

{% block content %}

  {{ emsServiceInformation() }}

  {{ govukBackLink({
    text: "back",
    href: backUrl
  }) }}

  <h1 class="govuk-heading-l">
    {{ heading }}
  </h1>
  <p class="govuk-body">Violation alerts, monitoring events and contact history</p>

  {% if events|length %}
    {{ emsDateFilter() }}
    <hr class="govuk-section-break govuk-section-break--m">
  {{ emsEventTimeline(events) }}
  {% else %}
    <h3 class="govuk-heading-m">No events found</h3>
    <p>There are no events associated with this order</p>
  {% endif %}

{% endblock %}
